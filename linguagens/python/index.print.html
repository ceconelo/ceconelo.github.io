<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.115.2">
    <meta name="generator" content="Relearn 5.17.1+tip">
    <meta name="description" content="Base de conhecimento de Sonath Developer BR">
    <meta name="author" content="Thiago Oliveira">
    <title>Python :: Sonath - Wiki</title>
    <link href="https://sonath.dev.br/linguagens/python/index.html" rel="canonical" type="text/html" title="Python :: Sonath - Wiki">
    <link href="/linguagens/python/index.xml" rel="alternate" type="application/rss+xml" title="Python :: Sonath - Wiki">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1689519596" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1689519596" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1689519596" rel="stylesheet">
    <link href="/css/auto-complete.css?1689519596" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1689519596" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1689519596" rel="stylesheet">
    <link href="/css/fonts.css?1689519596" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1689519596" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1689519596" rel="stylesheet">
    <link href="/css/theme-sonath.css?1689519596" rel="stylesheet" id="variant-style">
    <link href="/css/variant.css?1689519596" rel="stylesheet">
    <link href="/css/print.css?1689519596" rel="stylesheet" media="print">
    <link href="/css/format-print.css?1689519596" rel="stylesheet">
    <link href="/css/ie.css?1689519596" rel="stylesheet">
    <script src="/js/url.js?1689519596"></script>
    <script src="/js/variant.js?1689519596"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="/index.search.js";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/sonath.dev.br/';
      window.variants && variants.init( [ 'sonath' ] );
    </script>
  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="/linguagens/python/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/index.html"><span itemprop="name">Sonath - Base de Conhecimento</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/linguagens/index.html"><span itemprop="name">Linguagens</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Python</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="python">Python</h1>

<p>Nessa seção você encontrará conteúdos sobre a linguagem de programação Python, mas não pretendo abordar conteúdos mais básicos
principalmente por que já existem muitos materiais sobre isso na internet, então vou focar em conteúdos mais avançados ou
que são pouco abordados em outros lugares mas que são muito úteis.</p>
<p>Caso você tenha chegado aqui sem saber nada de Python, recomendo que você passe em algum dos links abaixo para aprender o básico.</p>
<ul>
<li><a href="https://docs.python.org/pt-br/3/tutorial/index.html" target="_blank">Python Docs</a></li>
<li><a href="https://pythoniluminado.netlify.app/" target="_blank">Python Iluminado</a></li>
<li><a href="https://github.com/dunossauro/live-de-python" target="_blank">Dunossauro</a></li>
</ul>
<h3 id="minha-visão-sobre-python">Minha visão sobre Python</h3>
<p>Linguagens de programação entram naquela categoria de assuntos que geram muitas polêmicas, principalmente quando adotamos
a postura de &ldquo;torcida organizada&rdquo;. Eu particularmente não gosto de entrar nesse tipo de discussão quando percebo que a postura
adotada é exatamente essa pois acredito que o caso não seja defender uma bandeira até a morte, mas sim entender as vantagens e
e desvantagens e tirar proveito disso.</p>
<p>Dito isso, quero começar desse ponto: <code> Python é uma linguagem para iniciantes?</code></p>
<p>Aqui entra uma das melhores respostas, <strong>DEPENDE</strong>.</p>
<p>Acredito que por Python ser uma linguagem com uma sintaxe simples e de baixa verbosidade ela acaba sendo a escolha de muitas
pessoas que estão começando a programar, mas isso não significa que ela é uma linguagem para iniciantes.</p>
<p>Python é considerada atualmente uma linguagem de propósito geral, pelo menos é assim que ela é vendida por aí, eu particularmente
não concordo com isso, mas isso é assunto para outro dia, mas só para adiantar qual seria o rumo da conversa, olha só:</p>
<blockquote>
<p>&ldquo;Uma chave de fenda pode abrir uma lata de tinta, mas isso não significa que ela é uma ferramenta para abrir latas&rdquo;</p>
</blockquote>
<p>Mas voltando ao assunto, quando estamos iniciando na programação umas das coisas mais prazerosas é ver as coisas de fato
acontecendo, tu mete um input aqui, da um print ali e isso já é motivo de alegria, daí tu ja compartilha com os amigos e solta
aquela: &ldquo;olha só o programa que fiz&rdquo;, e isso é demais, nesse sentido acho que Python é uma ótima pedida, a barreira de entrada
é muito baixa.</p>
<p>Agora de verdade, desenvolver software é muito mais do que isso, e aqui Python acaba sendo omisso. Desenvolver software não é
tão simples como iniciar em Python e isso pode te trazer mais malefícios do que benefícios a longo prazo, em outras palavras
você pode desenvolver um racional menos apurado para resolver problemas, ou pior ainda, criar problemas que não deveriam existir.</p>
<p>Python não deixa evidente a necessidade de se preocupar com a estrutura do seu código, com a arquitetura, com a qualidade do
código, com a performance, com a segurança, com a escalabilidade, com a testabilidade, com a documentação, com a legibilidade,
com a organização, com a modularização, com a reutilização, com a manutenção&hellip; e por aí vai.</p>
<p>Isso não é uma crítica a linguagem, mas sim a forma como ela é vendida, aliás para deixar claro a linguagem que eu mais
uso é Python, principalmente pelo contexto que eu trabalho e não por que Python serve para tudo.</p>
<p>Então assim, se você está iniciando na programação, Python é uma ótima pedida, mas não se acomode com isso, tu vai precisar
correr por fora para aprender sobre os assuntos que eu citei acima, isso não significa que outras linguagens não demandem isso,
a diferença é que &ldquo;elas&rdquo; deixam isso mais evidente.</p>
<p>Em resumo é isso que gostaria de compartilhar sobre Python, espero que tenha sido útil e até a próxima.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Python</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="template-string">Template String</h1>

<p>Imagine que você criou uma automação para envio de email aos funcionários da empresa que você trabalha e que no corpo desse
email existem dados que precisam ser alterados dinamicamente, exatamente aqui Template String entra em ação.</p>
<p>Veja esse caso de uso:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f00">from</span> string <span style="color:#f00">import</span> Template  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>tmpl_email = <span style="color:#87ceeb">&#34;&#34;&#34;  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Caro $employee_name,  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Espero que este e-mail o encontre bem. Gostaríamos de informar que realizamos uma revisão salarial anual e,  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">como resultado, houve um ajuste no seu salário com base no índice de correção pela inflação.  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Após análises e cálculos cuidadosos, verificamos que o índice de inflação acumulada nos últimos 12 meses foi de  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">$idx_inflation_rate. Com base nesse valor, o seu salário será corrigido para refletir a variação do custo de vida e  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">garantir que você seja devidamente compensado.  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">A partir do próximo mês, seu salário corrigido será de $salary. Essa correção foi aplicada retroativamente, o que s  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">ignifica que você também receberá um valor adicional referente ao período desde a última atualização salarial.  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Se você tiver alguma dúvida sobre o cálculo ou qualquer outro aspecto relacionado à sua remuneração, fique à vontade  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">para entrar em contato com o setor de Recursos Humanos. Estamos aqui para ajudar e fornecer qualquer esclarecimento  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">adicional que você precise.  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Agradecemos sua dedicação e contribuição para a empresa. Reconhecemos que seu trabalho é fundamental  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">para o nosso sucesso contínuo, e a atualização salarial é uma forma de valorizarmos seus esforços.  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Parabenizamos pelo seu desempenho e estamos ansiosos para continuar trabalhando juntos.  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Atenciosamente,  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">$sender_name  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">$sender_role  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">$sender_company  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#34;&#34;&#34;</span>  
</span></span><span style="display:flex;"><span>to_replace = {  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;employee_name&#39;</span>: <span style="color:#87ceeb">&#39;João da Silva&#39;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;idx_inflation_rate&#39;</span>: <span style="color:#87ceeb">&#39;5%&#39;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;salary&#39;</span>: <span style="color:#87ceeb">&#39;R$ 1.500,00&#39;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;sender_name&#39;</span>: <span style="color:#87ceeb">&#39;Maria de Souza&#39;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;sender_role&#39;</span>: <span style="color:#87ceeb">&#39;Gerente de RH&#39;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;sender_company&#39;</span>: <span style="color:#87ceeb">&#39;Empresa XYZ&#39;</span>  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>to_replace_two = {  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;employee_name&#39;</span>: <span style="color:#87ceeb">&#39;João da Silva&#39;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;idx_inflation_rate&#39;</span>: <span style="color:#87ceeb">&#39;5%&#39;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;salary&#39;</span>: <span style="color:#87ceeb">&#39;R$ 1.500,00&#39;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;sender_name&#39;</span>: <span style="color:#87ceeb">&#39;Maria de Souza&#39;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#39;sender_role&#39;</span>: <span style="color:#87ceeb">&#39;Gerente de RH&#39;</span>,  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>tmpl_email = Template(tmpl_email)  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>print(tmpl_email.substitute(to_replace))  
</span></span><span style="display:flex;"><span>print(tmpl_email.safe_substitute(to_replace_two))   </span></span></code></pre></div><p>Como podemos notar ao instanciarmos o objeto Template passamos no construtor um modelo contendo a &ldquo;marcação&rdquo; de quais
campos queremos interpolar, na implementação da classe podemos ver que essa &ldquo;marcação&rdquo; leva o nome de &ldquo;delimiter&rdquo; e que
por padrão seu valor é $.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f00">class</span> Template:
</span></span><span style="display:flex;"><span>    <span style="color:#87ceeb">&#34;&#34;&#34;A string class for supporting $-substitutions.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    delimiter = <span style="color:#87ceeb">&#39;$&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0f0"># r&#39;[a-z]&#39; matches to non-ASCII letters when used with IGNORECASE, but</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0f0"># without the ASCII flag.  We can&#39;t add re.ASCII to flags because of</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0f0"># backward compatibility.  So we use the ?a local flag and [a-z] pattern.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0f0"># See https://bugs.python.org/issue31672</span>
</span></span><span style="display:flex;"><span>    idpattern = <span style="color:#87ceeb">r</span><span style="color:#87ceeb">&#39;(?a:[_a-z][_a-z0-9]*)&#39;</span>
</span></span><span style="display:flex;"><span>    braceidpattern = <span style="color:#f00">None</span>
</span></span><span style="display:flex;"><span>    flags = _re.IGNORECASE</span></span></code></pre></div><p>Então na prática as strings que serão substituídas devem iniciar com o delimitador $, caso você não criei um classe
personalizada para isso.</p>
<p>Agora falando em substituir existem dois métodos disponíveis para isso:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>string.substitute()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>string.safe_substitute()</span></span></code></pre></div><p>O método substitute() irá lançar uma exceção do tipo KeyError caso algum campo não seja encontrado no objeto que você
passou como parâmetro, veja o exemplo abaixo onde o campo sender_company não foi passado no objeto to_replace_two.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(tmpl_email.substitute(to_replace_two)) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#output</span>
</span></span><span style="display:flex;"><span>Traceback (most recent call last):
</span></span><span style="display:flex;"><span>  File <span style="color:#87ceeb">&#34;/home/python/app/src/template_string.py&#34;</span>, line <span style="color:#f60">52</span>, in &lt;module&gt;
</span></span><span style="display:flex;"><span>    print(tmpl_email.substitute(to_replace_two))
</span></span><span style="display:flex;"><span>  File <span style="color:#87ceeb">&#34;/usr/local/lib/python3.10/string.py&#34;</span>, line <span style="color:#f60">121</span>, in substitute
</span></span><span style="display:flex;"><span>    <span style="color:#f00">return</span> self.pattern.sub(convert, self.template)
</span></span><span style="display:flex;"><span>  File <span style="color:#87ceeb">&#34;/usr/local/lib/python3.10/string.py&#34;</span>, line <span style="color:#f60">114</span>, in convert
</span></span><span style="display:flex;"><span>    <span style="color:#f00">return</span> str(mapping[named])
</span></span><span style="display:flex;"><span>KeyError: <span style="color:#87ceeb">&#39;sender_company&#39;</span></span></span></code></pre></div><p>Agora caso não queira esse comportamento você pode utilizar o método safe_substitute() que irá ignorar os campos que
não forem encontrados no objeto passado como parâmetro, retornando a string original.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(tmpl_email.safe_substitute(to_replace_two))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#output</span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>Agradecemos sua dedicação e contribuição para a empresa. Reconhecemos que seu trabalho é fundamental 
</span></span><span style="display:flex;"><span>para o nosso sucesso contínuo, e a atualização salarial é uma forma de valorizarmos seus esforços.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Parabenizamos pelo seu desempenho e estamos ansiosos para continuar trabalhando juntos.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Atenciosamente,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Maria de Souza
</span></span><span style="display:flex;"><span>Gerente de RH
</span></span><span style="display:flex;"><span>$sender_company</span></span></code></pre></div><p>Podemos inclusive usar com objetos mais complexos:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f00">from</span> string <span style="color:#f00">import</span> Template
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dados_cliente = {
</span></span><span style="display:flex;"><span>    <span style="color:#87ceeb">&#34;nome&#34;</span>: <span style="color:#87ceeb">&#34;João da Silva&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#87ceeb">&#34;idade&#34;</span>: <span style="color:#f60">35</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#87ceeb">&#34;endereco&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#87ceeb">&#34;rua&#34;</span>: <span style="color:#87ceeb">&#34;Rua Principal&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#87ceeb">&#34;cidade&#34;</span>: <span style="color:#87ceeb">&#34;São Paulo&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#87ceeb">&#34;estado&#34;</span>: <span style="color:#87ceeb">&#34;SP&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#87ceeb">&#34;pedidos&#34;</span>: [<span style="color:#87ceeb">&#34;Item 1&#34;</span>, <span style="color:#87ceeb">&#34;Item 2&#34;</span>, <span style="color:#87ceeb">&#34;Item 3&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tmpl_string = <span style="color:#87ceeb">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Olá, $nome!
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Agradecemos por sua compra recente. Abaixo estão os detalhes do seu pedido:
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">- Itens comprados:
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  $itens
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">- Endereço de entrega:
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  Rua: $endereco_rua
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  Cidade: $endereco_cidade
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  Estado: $endereco_estado
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Atenciosamente,
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Empresa XYZ
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tmpl = Template(tmpl_string)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>formatted = tmpl.substitute(
</span></span><span style="display:flex;"><span>    nome=dados_cliente[<span style="color:#87ceeb">&#34;nome&#34;</span>],
</span></span><span style="display:flex;"><span>    itens=<span style="color:#87ceeb">&#34;</span><span style="color:#87ceeb">\n</span><span style="color:#87ceeb">  &#34;</span>.join(dados_cliente[<span style="color:#87ceeb">&#34;pedidos&#34;</span>]),
</span></span><span style="display:flex;"><span>    endereco_rua=dados_cliente[<span style="color:#87ceeb">&#34;endereco&#34;</span>][<span style="color:#87ceeb">&#34;rua&#34;</span>],
</span></span><span style="display:flex;"><span>    endereco_cidade=dados_cliente[<span style="color:#87ceeb">&#34;endereco&#34;</span>][<span style="color:#87ceeb">&#34;cidade&#34;</span>],
</span></span><span style="display:flex;"><span>    endereco_estado=dados_cliente[<span style="color:#87ceeb">&#34;endereco&#34;</span>][<span style="color:#87ceeb">&#34;estado&#34;</span>]
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(formatted)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#output</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Olá, João da Silva!
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Agradecemos por sua compra recente. Abaixo estão os detalhes do seu pedido:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- Itens comprados:
</span></span><span style="display:flex;"><span>  Item <span style="color:#f60">1</span>
</span></span><span style="display:flex;"><span>  Item <span style="color:#f60">2</span>
</span></span><span style="display:flex;"><span>  Item <span style="color:#f60">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- Endereço de entrega:
</span></span><span style="display:flex;"><span>  Rua: Rua Principal
</span></span><span style="display:flex;"><span>  Cidade: São Paulo
</span></span><span style="display:flex;"><span>  Estado: SP
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Atenciosamente,
</span></span><span style="display:flex;"><span>Empresa XYZ</span></span></code></pre></div><h2 id="template-string-com-classe-personalizada">Template String com Classe Personalizada</h2>
<p>E para finalizarmos quero mostrar como podemos utilizar uma classe personalizada para fazer a interpolação dos campos. Você
pode fazer isso criando uma classe que herde de Template e sobrescreva o atributo delimiter, veja o exemplo abaixo:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f00">from</span> string <span style="color:#f00">import</span> Template
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f00">class</span> MyTemplate(Template):
</span></span><span style="display:flex;"><span>    delimiter = <span style="color:#87ceeb">&#39;%&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dados_cliente = {
</span></span><span style="display:flex;"><span>    <span style="color:#87ceeb">&#34;nome&#34;</span>: <span style="color:#87ceeb">&#34;João da Silva&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#87ceeb">&#34;idade&#34;</span>: <span style="color:#f60">35</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#87ceeb">&#34;endereco&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#87ceeb">&#34;rua&#34;</span>: <span style="color:#87ceeb">&#34;Rua Principal&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#87ceeb">&#34;cidade&#34;</span>: <span style="color:#87ceeb">&#34;São Paulo&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#87ceeb">&#34;estado&#34;</span>: <span style="color:#87ceeb">&#34;SP&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#87ceeb">&#34;pedidos&#34;</span>: [<span style="color:#87ceeb">&#34;Item 1&#34;</span>, <span style="color:#87ceeb">&#34;Item 2&#34;</span>, <span style="color:#87ceeb">&#34;Item 3&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tmpl_string = <span style="color:#87ceeb">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Olá, %nome!
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Agradecemos por sua compra recente. Abaixo estão os detalhes do seu pedido:
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">- Itens comprados:
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  </span><span style="color:#87ceeb">%i</span><span style="color:#87ceeb">tens
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">- Endereço de entrega:
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  Rua: </span><span style="color:#87ceeb">%e</span><span style="color:#87ceeb">ndereco_rua
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  Cidade: </span><span style="color:#87ceeb">%e</span><span style="color:#87ceeb">ndereco_cidade
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">  Estado: </span><span style="color:#87ceeb">%e</span><span style="color:#87ceeb">ndereco_estado
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Atenciosamente,
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">Empresa XYZ
</span></span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tmpl = MyTemplate(tmpl_string)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>formatted = tmpl.substitute(
</span></span><span style="display:flex;"><span>    nome=dados_cliente[<span style="color:#87ceeb">&#34;nome&#34;</span>],
</span></span><span style="display:flex;"><span>    itens=<span style="color:#87ceeb">&#34;</span><span style="color:#87ceeb">\n</span><span style="color:#87ceeb">  &#34;</span>.join(dados_cliente[<span style="color:#87ceeb">&#34;pedidos&#34;</span>]),
</span></span><span style="display:flex;"><span>    endereco_rua=dados_cliente[<span style="color:#87ceeb">&#34;endereco&#34;</span>][<span style="color:#87ceeb">&#34;rua&#34;</span>],
</span></span><span style="display:flex;"><span>    endereco_cidade=dados_cliente[<span style="color:#87ceeb">&#34;endereco&#34;</span>][<span style="color:#87ceeb">&#34;cidade&#34;</span>],
</span></span><span style="display:flex;"><span>    endereco_estado=dados_cliente[<span style="color:#87ceeb">&#34;endereco&#34;</span>][<span style="color:#87ceeb">&#34;estado&#34;</span>]
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(formatted)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#output</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Olá, João da Silva!
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Agradecemos por sua compra recente. Abaixo estão os detalhes do seu pedido:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- Itens comprados:
</span></span><span style="display:flex;"><span>  Item <span style="color:#f60">1</span>
</span></span><span style="display:flex;"><span>  Item <span style="color:#f60">2</span>
</span></span><span style="display:flex;"><span>  Item <span style="color:#f60">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- Endereço de entrega:
</span></span><span style="display:flex;"><span>  Rua: Rua Principal
</span></span><span style="display:flex;"><span>  Cidade: São Paulo
</span></span><span style="display:flex;"><span>  Estado: SP
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Atenciosamente,
</span></span><span style="display:flex;"><span>Empresa XYZ
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#87ceeb">&#34;&#34;&#34;</span></span></span></code></pre></div><p>Como pode ver esse é um recurso muito útil e inclusive muito utilizado em softwares que dão suporte a
internacionalização  <a href="https://flufli18n.readthedocs.io/en/latest/" target="_blank"><strong>i18n</strong></a>.</p>
<p>Por hoje é isso, espero que tenha gostado e até a próxima.</p>
<p>Fonte: <a href="https://docs.python.org/pt-br/3.10/library/string.html" target="_blank">https://docs.python.org/pt-br/3.10/library/string.html</a></p>

            <footer class="footline">

            </footer>
          </article>

          </section>
        </div>
      </main>
    </div>
    <script src="/js/clipboard.min.js?1689519596" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1689519596" defer></script>
    <script src="/js/theme.js?1689519596" defer></script>
  </body>
</html>
